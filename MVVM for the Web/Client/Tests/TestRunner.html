<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="TestRunner.css" />
</head>
<body>
    <div id="mocha"></div>
    <script src="/Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="Scripts/chai.js" type="text/javascript"></script>
    <script src="Scripts/mocha.js" type="text/javascript"></script>
    <script src="Scripts/sinon-1.5.2.js" type="text/javascript"></script>
    <script>mocha.setup('bdd')</script>

    <!-- Test Dependencies -->
    <script src="../../Scripts/knockout-2.2.0.js"></script>
    <script src="../../Scripts/knockout.mapping-latest.js"></script>
    <script src="../../Scripts/knockout-postbox.js"></script>
    <script src="../knockout.bindingHelpers.js"></script>
    
    <!-- Common -->
    <script src="OrdersServiceFake.js"></script>
    <script src="../Services/OrdersService.js" type="text/javascript"></script>

    <!-- OrdersViewModel -->
    <script src="../ViewModels/OrdersViewModel.js" type="text/javascript"></script>
    <script src="OrdersViewModelTests.js" type="text/javascript"></script>
    <!-- OrderViewModel -->
    <script src="../ViewModels/OrderViewModel.js" type="text/javascript"></script>
    <script src="OrderViewModelTests.js" type="text/javascript"></script>
    <!-- MessagingViewModel -->
    <!--
    <script src="../ViewModels/MessagingViewModel.js" type="text/javascript"></script>
    <script src="MessagingViewModelTests.js" type="text/javascript"></script>
        -->
    <script>
        // Create shortcuts to the assertion libraries
        var should = chai.should();
        var expect = chai.expect;

        // Stub the message bus so that the tests 
        // do not interact with each other
        ko.postbox.publish = sinon.stub();
        ko.postbox.subscribe = sinon.stub();

        // Run the test
        mocha.run();
    </script>
</body>
</html>
